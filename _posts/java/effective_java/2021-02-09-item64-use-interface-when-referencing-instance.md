---
title: "[Effective Java] Item 64. 객체는 인터페이스를 사용해 참조하라"
excerpt: "인터페이스를 타입으로 사용하는 습관을 길러두면 프로그램이 훨씬 유연해질 것이다."
categories:
  - Java
tags:
  - Java
  - Effective Java
date: 2021-02-09
last_modified_at: 2021-02-09
---

## 1. 인터페이스 타입을 통한 참조

적합한 인터페이스만 있다면 매개변수뿐 아니라 반환값, 변수, 필드를 전부 인터페이스 타입으로 선언하라.

변수나 파라미터를 클래스 타입으로 사용한다면, 클라이언트에게 특정 클래스의 사용을 강요하게 된다. 그러나 인터페이스를 선언한다면 해당 인터페이스를 구현하는 어떠한 구현체도 받아들일 수 있다.

* ``Set<Son> sonSet``이라는 파라미터(변수)는 다양한 Set 구현체(TreeSet, HashSet 등)를 참조할 수 있는 다형성의 이점을 가진다.
* 구현 클래스를 교체할 때 생성자 호출 부분만 수정할 뿐, 다른 코드는 전혀 수정할 필요가 없어진다.
  * 변화에 유연하게 대처할 수 있다.

<br>

## 2. 주의사항

원래의 클래스가 인터페이스의 일반 규약 이외의 특별한 기능을 제공하고, 주변 코드가 이 기능에 기대어 동작한다면 새로운 클래스도 반드시 같은 기능을 제공해야 한다.

* ``Set<Son> sonSet``의 구현체를 LinkedHashSet에서 HashSet으로 변경했을 때?
  * 주변 코드가 LinkedHashSet의 순서 정책을 가정하고 동작한다면 변경으로 문제가 발생한다.
* 적합한 인터페이스가 없다면 클래스로 참조해야 한다.
  * String, BigInteger 등의 값 클래스.
  * 클래스 기반으로 작성된 프레임워크가 제공하는 객체들.
    * 이런 경우라도 특정 구현 클래스보다는 추상 클래스인 기반 클래스로 참조하는 것이 좋다.
  * 인터페이스에는 없는 특별한 메서드를 제공하는 클래스들.
    * PriorityQueue 클래스는 Queue 인터페이스에는 없는 comparator 메서드를 제공한다.

적합한 인터페이스가 없다면 클래스의 계층구조 중 필요한 기능을 만족하는 가장 덜 구체적인(상위의) 클래스를 타입으로 사용하자.

<br>

---

## Reference

* Effective Java 3/E(Joshua Bloch 저)
